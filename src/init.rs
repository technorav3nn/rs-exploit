use crate::rbx_print::rbx_print;
use libc::getpid;

use crate::util;
pub struct Initalize {}

impl Initalize {
    pub unsafe fn init() {
        Initalize::check_if_roblox(getpid());
        println!("Dylib injected");

        // rbx_print(0, "hello from dylib");
    }

    pub fn check_if_roblox(pid: i32) {
        let is_roblox = util::is_roblox_process(pid);

        println!("is roblox: {}, pid: {}", is_roblox, pid);

        if !is_roblox {
            println!("not roblox, exiting");
            return;
        }
    }
}
