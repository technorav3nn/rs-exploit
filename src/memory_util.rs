#[allow(deprecated)]
use libc::_dyld_get_image_vmaddr_slide;

#[macro_export]
macro_rules! aslr {
    ($address:expr) => {
        ($address - 0x100000000 + get_module_handle())
    };
}

#[allow(dead_code)]
pub unsafe fn read_offset() {
    get_module_handle();
}

#[allow(deprecated)]
pub unsafe fn get_module_handle() -> u64 {
    _dyld_get_image_vmaddr_slide(0) as u64
}
