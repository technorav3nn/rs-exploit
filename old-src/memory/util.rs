#[allow(deprecated)]
use libc::_dyld_get_image_vmaddr_slide;

#[macro_export]
macro_rules! aslr {
    ($x:expr) => {
        ($x - 0x100000000 + $crate::get_module_handle() as u64)
    };
}

#[allow(dead_code)]
pub unsafe fn read_offset() {
    get_module_handle();
}

#[allow(deprecated)]
pub unsafe fn get_module_handle() -> isize {
    _dyld_get_image_vmaddr_slide(0)
}
